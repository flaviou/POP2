{"code":"var core_1 = require('@angular/core');\r\nvar parties_collection_1 = require(\"../../../../both/collections/parties.collection\");\r\nvar RsvpPipe = (function () {\r\n    function RsvpPipe() {\r\n    }\r\n    RsvpPipe.prototype.transform = function (party, type) {\r\n        if (!type) {\r\n            return 0;\r\n        }\r\n        var total = 0;\r\n        var found = parties_collection_1.Parties.findOne(party._id);\r\n        if (found)\r\n            total = found.rsvps ? found.rsvps.filter(function (rsvp) { return rsvp.response === type; }).length : 0;\r\n        return total;\r\n    };\r\n    RsvpPipe = __decorate([\r\n        core_1.Pipe({\r\n            name: 'rsvp'\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], RsvpPipe);\r\n    return RsvpPipe;\r\n}());\r\nexports.RsvpPipe = RsvpPipe;\r\n//# sourceMappingURL=rsvp.pipe.js.map","sourceMap":{"version":3,"file":"rsvp.pipe.js","sourceRoot":"","sources":["client/imports/app/shared/rsvp.pipe.ts"],"names":[],"mappings":"AAAA,qBAAkC,eAAe,CAAC,CAAA;AAElD,mCAAsB,iDAAiD,CAAC,CAAA;AAKxE;IAAA;IAcA,CAAC;IAbC,4BAAS,GAAT,UAAU,KAAY,EAAE,IAAY;QAClC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACV,MAAM,CAAC,CAAC,CAAC;QACX,CAAC;QAED,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,IAAM,KAAK,GAAG,4BAAO,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAEzC,EAAE,CAAC,CAAC,KAAK,CAAC;YACR,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAtB,CAAsB,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;QAEtF,MAAM,CAAC,KAAK,CAAC;IACf,CAAC;IAhBH;QAAC,WAAI,CAAC;YACJ,IAAI,EAAE,MAAM;SACb,CAAC;;gBAAA;IAeF,eAAC;AAAD,CAAC,AAdD,IAcC;AAdY,gBAAQ,WAcpB,CAAA","sourcesContent":["import {Pipe, PipeTransform} from '@angular/core';\nimport {Party} from \"../../../../both/models/party.model\";\nimport {Parties} from \"../../../../both/collections/parties.collection\";\n\n@Pipe({\n  name: 'rsvp'\n})\nexport class RsvpPipe implements PipeTransform {\n  transform(party: Party, type: string): number {\n    if (!type) {\n      return 0;\n    }\n\n    let total = 0;\n    const found = Parties.findOne(party._id);\n\n    if (found)\n      total = found.rsvps ? found.rsvps.filter(rsvp => rsvp.response === type).length : 0;\n\n    return total;\n  }\n}"]},"version":"1","isExternal":true,"references":{"files":[],"modules":["both/models/party.model.ts","both/collections/parties.collection.ts"],"typings":[]},"diagnostics":{"syntacticErrors":[],"semanticErrors":[{"code":2307,"fileName":"client/imports/app/shared/rsvp.pipe.ts","message":"Cannot find module '@angular/core'.","line":1,"column":35}]},"hash":"e3c385d4d1d49396cbe6953d389517ccb982ea2c"}